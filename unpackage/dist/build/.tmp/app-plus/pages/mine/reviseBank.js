(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/reviseBank"],{"2ae8":function(a,n,t){"use strict";t.r(n);var e=t("dcc3"),u=t("61dc");for(var i in u)"default"!==i&&function(a){t.d(n,a,function(){return u[a]})}(i);t("cb4c");var s=t("2877"),o=Object(s["a"])(u["default"],e["a"],e["b"],!1,null,null,null);n["default"]=o.exports},"61dc":function(a,n,t){"use strict";t.r(n);var e=t("ce87"),u=t.n(e);for(var i in e)"default"!==i&&function(a){t.d(n,a,function(){return e[a]})}(i);n["default"]=u.a},a425:function(a,n,t){},cb4c:function(a,n,t){"use strict";var e=t("a425"),u=t.n(e);u.a},ce87:function(a,n,t){"use strict";(function(a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(t("ab50")),u=(t("5cc9"),t("1bfa"));function i(a){return a&&a.__esModule?a:{default:a}}var s=function(){return t.e("components/uni-icon/uni-icon").then(t.bind(null,"857b"))},o={data:function(){return{array:["中国银行","中国建设银行","中国农业银行","中国工商银行","交通银行","广发银行","上海浦东发展银行","招商银行","平安银行","中国邮政储蓄银行","兴业银行","民生银行","光大银行","中信银行","华夏银行","上海银行","北京银行","花旗中国银行","汇丰中国银行","渣打中国银行","香港汇丰银行","其他银行"],index:0,flag:!0,bankAddress:"",bankName:"",bankNumber:"",userName:"",id:""}},components:{uniIcon:s},onNavigationBarButtonTap:function(a){this.del()},onLoad:function(a){this.id=a.id},created:function(){var a=this;a.bankName=a.array[a.index]},onShow:function(){this.getBank()},methods:{bindPickerChange:function(a){this.index=a.target.value,this.bankName=this.array[this.index]},del:function(){var n=this;a.showModal({content:"确定删除此银行卡？",success:function(t){t.confirm&&(0,u.djRequest)({url:"/api/bank/delete",data:{Id:n.id},method:"GET",success:function(n){200===n.data.status&&(e.default.TostUtil(n.data.message),setTimeout(function(){a.navigateBack({delta:1})},1e3))}})}})},getBank:function(){var a=this;(0,u.djRequest)({url:"/api/bank/show",method:"GET",data:{Id:a.id},success:function(n){a.bankName=n.data.data.bankName,a.bankNumber=n.data.data.bankNumber,a.userName=n.data.data.bankAccountName,a.bankAddress=n.data.data.bankAddress}})},formSubmit:function(){var n=this;a.showModal({content:"确定修改?",success:function(t){if(t.confirm){if(n.flag){if(n.flag=!1,!e.default.RegUtil.isMatchRealName(n.userName))return e.default.TostUtil("请输入开户人！"),void(n.flag=!0);if(!e.default.RegUtil.isMatchBankNumber(n.bankNumber))return e.default.TostUtil("请输入16~19位银行卡号！"),void(n.flag=!0);if(""===n.bankAddress)return e.default.TostUtil("请输入开户行！"),void(n.flag=!0)}(0,u.djRequest)({url:"/api/bank/update",data:{bankId:n.id,bankName:n.bankName,bankNumber:n.bankNumber,bankAddress:n.bankAddress,bankAccountName:n.userName,status:"yes"},method:"POST",success:function(t){e.default.TostUtil(t.data.message),n.flag=!0,setTimeout(function(){a.navigateBack()},1e3)},fail:function(a){console.log(a," at pages\\mine\\reviseBank.vue:197"),n.flag=!0}})}else n.flag=!0}})}}};n.default=o}).call(this,t("6e42")["default"])},dcc3:function(a,n,t){"use strict";var e=function(){var a=this,n=a.$createElement;a._self._c},u=[];t.d(n,"a",function(){return e}),t.d(n,"b",function(){return u})}},[["4f33","common/runtime","common/vendor"]]]);