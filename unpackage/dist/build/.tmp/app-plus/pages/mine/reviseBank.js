(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/reviseBank"],{"1d19":function(a,e,t){"use strict";t.r(e);var n=t("c5d7"),i=t("c6ea");for(var u in i)"default"!==u&&function(a){t.d(e,a,function(){return i[a]})}(u);t("26d9");var s=t("2877"),d=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,null,null);e["default"]=d.exports},"26d9":function(a,e,t){"use strict";var n=t("b30a"),i=t.n(n);i.a},b30a:function(a,e,t){},c5d7:function(a,e,t){"use strict";var n=function(){var a=this,e=a.$createElement;a._self._c},i=[];t.d(e,"a",function(){return n}),t.d(e,"b",function(){return i})},c6ea:function(a,e,t){"use strict";t.r(e);var n=t("da8f"),i=t.n(n);for(var u in n)"default"!==u&&function(a){t.d(e,a,function(){return n[a]})}(u);e["default"]=i.a},da8f:function(a,e,t){"use strict";(function(a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(t("1de3")),i=(t("2966"),t("25f1"));function u(a){return a&&a.__esModule?a:{default:a}}var s=function(){return t.e("components/uni-icon/uni-icon").then(t.bind(null,"fc60"))},d={data:function(){return{array:["中国银行","中国建设银行","中国农业银行","中国工商银行","交通银行","广发银行","上海浦东发展银行","招商银行","平安银行","中国邮政储蓄银行","兴业银行","民生银行","光大银行","中信银行","华夏银行","上海银行","北京银行","花旗中国银行","汇丰中国银行","渣打中国银行","香港汇丰银行","其他银行"],index:0,flag:!0,bankAddress:"",bankName:"",bankNumber:"",userName:"",id:""}},components:{uniIcon:s},onNavigationBarButtonTap:function(a){this.del()},onLoad:function(a){this.id=a.id},created:function(){var a=this;a.getUserName(),a.bankName=a.array[a.index]},onShow:function(){this.getBank()},methods:{bindPickerChange:function(a){this.index=a.target.value,this.bankName=this.array[this.index]},del:function(){var e=this;(0,i.djRequest)({url:"/api/bank/delete",data:{Id:e.id},method:"GET",success:function(e){200===e.data.status&&(n.default.TostUtil(e.data.message),a.navigateBack({delta:1}))}})},getBank:function(){var a=this;(0,i.djRequest)({url:"/api/bank/show",method:"GET",data:{Id:a.id},success:function(e){a.bankName=e.data.data.bankName,a.bankNumber=e.data.data.bankNumber,a.userName=e.data.data.bankAccountName,a.bankAddress=e.data.data.bankAddress}})},getUserName:function(){var e=this;a.getStorage({key:"loginInfo",success:function(a){e.userName=JSON.parse(a.data).realName,e.sessionid=JSON.parse(a.data).sessionId}})},formSubmit:function(){var e=this;if(e.flag){if(e.flag=!1,!n.default.RegUtil.isMatchRealName(e.userName))return n.default.TostUtil("请输入开户人！"),void(e.flag=!0);if(!n.default.RegUtil.isMatchBankNumber(e.bankNumber))return n.default.TostUtil("请输入16~19位银行卡号！"),void(e.flag=!0);if(""===e.bankAddress)return n.default.TostUtil("请输入开户行！"),void(e.flag=!0)}(0,i.djRequest)({url:"/api/bank/update",data:{bankId:e.id,bankName:e.bankName,bankNumber:e.bankNumber,bankAddress:e.bankAddress,bankAccountName:e.userName,status:"yes"},method:"POST",success:function(t){n.default.TostUtil(t.data.message),e.flag=!0,setTimeout(function(){a.navigateBack()},1e3)},fail:function(a){console.log(a," at pages\\mine\\reviseBank.vue:189")}})}}};e.default=d}).call(this,t("6e42")["default"])}},[["a943","common/runtime","common/vendor"]]]);