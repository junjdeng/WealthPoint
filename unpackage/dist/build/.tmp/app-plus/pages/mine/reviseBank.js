(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/reviseBank"],{"16c9":function(a,t,e){"use strict";var n=function(){var a=this,t=a.$createElement;a._self._c},u=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return u})},"1d19":function(a,t,e){"use strict";e.r(t);var n=e("16c9"),u=e("c6ea");for(var i in u)"default"!==i&&function(a){e.d(t,a,function(){return u[a]})}(i);e("26d9");var d=e("2877"),s=Object(d["a"])(u["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"26d9":function(a,t,e){"use strict";var n=e("b30a"),u=e.n(n);u.a},b30a:function(a,t,e){},c6ea:function(a,t,e){"use strict";e.r(t);var n=e("da8f"),u=e.n(n);for(var i in n)"default"!==i&&function(a){e.d(t,a,function(){return n[a]})}(i);t["default"]=u.a},da8f:function(a,t,e){"use strict";(function(a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(e("1de3")),u=(e("2966"),e("25f1"));function i(a){return a&&a.__esModule?a:{default:a}}var d=function(){return e.e("components/uni-icon/uni-icon").then(e.bind(null,"fc60"))},s={data:function(){return{array:["中国银行","中国建设银行","中国农业银行","中国工商银行","交通银行","广发银行","上海浦东发展银行","招商银行","平安银行","中国邮政储蓄银行","兴业银行","民生银行","光大银行","中信银行","华夏银行","上海银行","北京银行","花旗中国银行","汇丰中国银行","渣打中国银行","香港汇丰银行","其他银行"],index:0,flag:!0,bankAddress:"",bankName:"",bankNumber:"",userName:"",id:""}},components:{uniIcon:d},onNavigationBarButtonTap:function(a){this.del()},onLoad:function(a){this.id=a.id},created:function(){var a=this;a.getUserName(),a.bankName=a.array[a.index]},onShow:function(){this.getBank()},methods:{bindPickerChange:function(a){this.index=a.target.value,this.bankName=this.array[this.index]},del:function(){var t=this;a.showModal({title:"删除",content:"确定删除此银行卡？",success:function(e){e.confirm&&(0,u.djRequest)({url:"/api/bank/delete",data:{Id:t.id},method:"GET",success:function(t){200===t.data.status&&(n.default.TostUtil(t.data.message),setTimeout(function(){a.navigateBack({delta:1})},1e3))}})}})},getBank:function(){var a=this;(0,u.djRequest)({url:"/api/bank/show",method:"GET",data:{Id:a.id},success:function(t){a.bankName=t.data.data.bankName,a.bankNumber=t.data.data.bankNumber,a.userName=t.data.data.bankAccountName,a.bankAddress=t.data.data.bankAddress}})},formSubmit:function(){var t=this;if(t.flag){if(t.flag=!1,!n.default.RegUtil.isMatchRealName(t.userName))return n.default.TostUtil("请输入开户人！"),void(t.flag=!0);if(!n.default.RegUtil.isMatchBankNumber(t.bankNumber))return n.default.TostUtil("请输入16~19位银行卡号！"),void(t.flag=!0);if(""===t.bankAddress)return n.default.TostUtil("请输入开户行！"),void(t.flag=!0)}(0,u.djRequest)({url:"/api/bank/update",data:{bankId:t.id,bankName:t.bankName,bankNumber:t.bankNumber,bankAddress:t.bankAddress,bankAccountName:t.userName,status:"yes"},method:"POST",success:function(e){n.default.TostUtil(e.data.message),t.flag=!0,setTimeout(function(){a.navigateBack()},1e3)},fail:function(a){console.log(a," at pages\\mine\\reviseBank.vue:205")}})}}};t.default=s}).call(this,e("6e42")["default"])}},[["a943","common/runtime","common/vendor"]]]);