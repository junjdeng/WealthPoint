(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/wealth/sellAPList","components/uni-icon/uni-icon"],{"0691":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},2156:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,function(e,n){var a=t._f("formatDate")(e.time,1),i=t._f("formatDate")(e.matchTime,1),r=t._f("formatDate")(e.payTime,1),o=t._f("formatDate")(e.confirmTime,1),u=t._f("formatLeftDate")(e.rever),c=t._f("yuan")(2e3*e.number);return{$orig:t.__get_orig(e),f0:a,f1:i,f2:r,f3:o,f4:u,f5:c}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"3b96":function(t,e,n){"use strict";n.r(e);var a=n("4435"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},4435:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(n("857b"));var a=r(n("ab50")),i=(n("5cc9"),n("1bfa"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){return n.e("components/uni-segmented-control2/uni-segmented-control").then(n.bind(null,"a72c"))},u={data:function(){return{items:[{name:"待匹配",type:"match",num:0},{name:"待付款",type:"pay",num:0},{name:"待确认",type:"confirm",num:0},{name:"待评价",type:"evaluate",num:0}],current:0,list:[]}},components:{uniSegmentedControl:o},onShow:function(){this.info("match"),this.info("pay"),this.info("confirm"),this.info("evaluate"),0==this.current?this.getList("match"):1==this.current?this.getList("pay"):2==this.current?this.getList("confirm"):3==this.current&&this.getList("evaluate")},onNavigationBarButtonTap:function(e){t.navigateTo({url:"sellRecord"})},methods:{navTo:function(e){t.navigateTo({url:e.currentTarget.dataset.url})},info:function(t){var e=this;(0,i.djRequest)({url:"/api/order",method:"POST",data:{start:0,length:50,status:t,type:"sell"},success:function(n){var a=n.data.data.data,i=[];e.items.forEach(function(e,n){t===e.type&&(a.forEach(function(t){"sell"===t.type&&i.push(t)}),e.num=i.length)})}})},connect:function(e,n){t.navigateTo({url:"connectMember?dist="+n+"&id="+e.id+"&personId="+e.buyerMemberId+"&type="+e.type})},onClickItem:function(t){var e=this,n=["match","pay","confirm","evaluate"];this.current!==t&&(this.current=t,e.list=[],e.getList(n[t]),this.info("match"),this.info("pay"),this.info("confirm"),this.info("evaluate"))},confirmPay:function(e){var n=this;t.showModal({content:"确定已收款？",success:function(t){t.confirm&&(0,i.djRequest)({url:"/api/order/confirm",method:"POST",data:{Id:e,status:"success"},success:function(t){a.default.TostUtil(t.data.message),200===t.data.status&&(a.default.balance(),n.getList("confirm"),n.info("match"),n.info("pay"),n.info("confirm"),n.info("evaluate"))}})}})},getList:function(t){var e=this;e.list=[],(0,i.djRequest)({url:"/api/order",method:"POST",data:{start:0,length:50,status:t,type:"sell"},success:function(n){if(e.list=[],200===n.data.status&&n.data.data.data.length>0){for(var a,i=n.data.data.data,r=0;r<i.length;r++){var o=i[r],u=void 0;if("match"===t?u=1e3*Number(o.time):"pay"===t?u=1e3*Number(o.matchTime):"confirm"===t?u=1e3*Number(o.payTime):"evaluate"===t&&(u=1e3*Number(o.confirmTime)),!o.hasOwnProperty("rever")){a="match"===t?1728e5:864e5;var c=(Date.now()-u)%a,s=a-c;o.rever=s}o.rever-=1e3}e.list=[],e.list=i,e.getData(t)}}})},getData:function(t){var e=this,n=e.list;n.forEach(function(n){null!=e.orderTimer&&clearInterval(e.orderTimer),e.orderTimer=setInterval(function(){n.rever-=1e3,n.rever<=0&&(n.rever="match"===t?1728e5:864e5)},1e3)}),e.list=n}}};e.default=u}).call(this,n("6e42")["default"])},"6bfb":function(t,e,n){"use strict";var a=n("6f36"),i=n.n(a);i.a},"6f36":function(t,e,n){},"857b":function(t,e,n){"use strict";n.r(e);var a=n("0691"),i=n("9c2b");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("6bfb");var o=n("2877"),u=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=u.exports},"8e22":function(t,e,n){},"927b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-icon",props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};e.default=a},"9c2b":function(t,e,n){"use strict";n.r(e);var a=n("927b"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},eda2:function(t,e,n){"use strict";n.r(e);var a=n("2156"),i=n("3b96");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("fd49");var o=n("2877"),u=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=u.exports},fd49:function(t,e,n){"use strict";var a=n("8e22"),i=n.n(a);i.a}},[["5bd2","common/runtime","common/vendor"]]]);